<!DOCTYPE HTML>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<title>Deferreds</title>
</head>
<body>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
	<script>
		(function(){
			$.searchTwitter = function(search){
				// var dfd = $.Deferred();

				return $.ajax({
					url: 'http://search.twitter.com/search.json',
					data: { q: search },
					dataType: 'jsonp'
					// success: dfd.resolve
				}).promise();

				// return dfd.promise();
			};

			var outer = $.searchTwitter('cat');

			outer.then(function( results ){
				console.log(results);
			})
		})();
	</script>
	
</body>
</html>